import {loadImage, wait} from "./tools.js";

// This is not a room, please disregard this, this is not a clue.
console.log("no");

// The text that tells the user that their reply has been saved
const validateReply = document.getElementById('validate-reply');

document.getElementById("form").addEventListener('input', function() {
    if(validateReply)
    {
        validateReply.classList.add('hidden');
        document.getElementById('validate-reply-not-sent').classList.remove('hidden');
    }
});

// Extracted from https://github.com/smore-inc/clippy.js/tree/master/agents/Clippy
enum AnimationKeys {
    Congratulate = "Congratulate",
    LookRight = "LookRight",
    SendMail = "SendMail",
    Thinking = "Thinking",
    Explain = "Explain",
    IdleRopePile = "IdleRopePile",
    IdleAtom = "IdleAtom",
    Print = "Print",
    Hide = "Hide",
    GetAttention = "GetAttention",
    Save = "Save",
    GetTechy = "GetTechy",
    GestureUp = "GestureUp",
    Idle1_1 = "Idle1_1",
    Processing = "Processing",
    Alert = "Alert",
    LookUpRight = "LookUpRight",
    IdleSideToSide = "IdleSideToSide",
    GoodBye = "GoodBye",
    LookLeft = "LookLeft",
    IdleHeadScratch = "IdleHeadScratch",
    LookUpLeft = "LookUpLeft",
    CheckingSomething = "CheckingSomething",
    Hearing_1 = "Hearing_1",
    GetWizardy = "GetWizardy",
    IdleFingerTap = "IdleFingerTap",
    GestureLeft = "GestureLeft",
    Wave = "Wave",
    GestureRight = "GestureRight",
    Writing = "Writing",
    IdleSnooze = "IdleSnooze",
    LookDownRight = "LookDownRight",
    GetArtsy = "GetArtsy",
    Show = "Show",
    LookDown = "LookDown",
    Searching = "Searching",
    EmptyTrash = "EmptyTrash",
    Greeting = "Greeting",
    LookUp = "LookUp",
    GestureDown = "GestureDown",
    RestPose = "RestPose",
    IdleEyeBrowRaise = "IdleEyeBrowRaise",
    LookDownLeft = "LookDownLeft",
}

interface Frame
{
    duration: number,
    image?: number,
    sound?: string,
    exitBranch?: number,
    branching?: {branches: {frameIndex: number, weight: number}[]},
}

const animations : {
    [x in AnimationKeys]: Frame[]
} = {
    "Congratulate":[{"duration":100,"image":0,"sound":"15"},{"duration":10,"image":1},{"duration":10,"image":2},{"duration":10,"image":3,"sound":"14"},{"duration":10,"image":4},{"duration":10,"image":5},{"duration":10,"image":6},{"duration":10,"image":7},{"duration":10,"image":8,"sound":"1"},{"duration":100,"image":9},{"duration":100,"image":10},{"duration":100,"image":11},{"duration":1200,"image":12},{"duration":100,"image":13,"sound":"10"},{"duration":100,"image":14},{"duration":1200,"image":12},{"duration":100,"image":15},{"duration":100,"image":16},{"duration":100,"image":17},{"duration":100,"image":18},{"duration":100,"image":19,"exitBranch":21},{"duration":100,"image":0}],
    "LookRight":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":194,"exitBranch":5},{"duration":100,"image":195,"exitBranch":4},{"duration":1200,"image":196},{"duration":100,"image":197},{"duration":100,"image":198},{"duration":100,"image":0}],
    "SendMail":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":361},{"duration":100,"image":362},{"duration":100,"image":363},{"duration":100,"image":364},{"duration":100,"image":365},{"duration":100,"image":366},{"duration":100,"image":367},{"duration":100,"image":368},{"duration":100,"image":369},{"duration":100,"image":370},{"duration":100,"image":371},{"duration":100,"image":372},{"duration":100,"image":373},{"duration":100,"image":374},{"duration":100,"image":375},{"duration":100,"image":376},{"duration":100,"image":377},{"duration":100,"image":378},{"duration":100,"image":379},{"duration":100,"image":380},{"duration":100,"image":381,"sound":"14"},{"duration":100,"image":382,"exitBranch":24},{"duration":100,"image":383},{"duration":100,"image":384,"exitBranch":26},{"duration":100,"image":385},{"duration":100,"image":386,"exitBranch":27},{"duration":100,"image":387,"exitBranch":28},{"duration":100,"image":388,"exitBranch":29},{"duration":100,"image":389,"exitBranch":30},{"duration":100,"image":390,"exitBranch":31},{"duration":100,"image":391,"exitBranch":32},{"duration":100,"image":392},{"duration":100,"image":393},{"duration":100,"image":394},{"duration":100,"image":395},{"duration":100,"image":396},{"duration":100,"image":397},{"duration":100,"image":398},{"duration":100,"image":399},{"duration":100,"image":400},{"duration":100,"image":401},{"duration":100,"image":402},{"duration":100,"image":403},{"duration":100,"image":404},{"duration":100,"image":405},{"duration":100,"image":406},{"duration":100,"image":407,"exitBranch":48},{"duration":100,"image":408,"exitBranch":49},{"duration":100,"image":409},{"duration":100,"image":410,"sound":"4"},{"duration":100,"image":411},{"duration":100,"image":412},{"duration":600},{"duration":100,"image":413},{"duration":100,"image":414},{"duration":100,"image":415},{"duration":100,"image":416},{"duration":100,"image":417},{"duration":100,"image":418},{"duration":100,"image":419},{"duration":100,"image":420},{"duration":100,"image":0}],
    "Thinking":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":28},{"duration":100,"image":29},{"duration":100,"image":30},{"duration":100,"image":31,"sound":"14"},{"duration":100,"image":32},{"duration":100,"image":33},{"duration":100,"image":34},{"duration":100,"image":35},{"duration":100,"image":36},{"duration":100,"image":37},{"duration":100,"image":38},{"duration":100,"image":39},{"duration":100,"image":40},{"duration":100,"image":41,"sound":"4"},{"duration":100,"image":42},{"duration":100,"image":43},{"duration":100,"image":44},{"duration":100,"image":45},{"duration":100,"image":46},{"duration":100,"image":47},{"duration":100,"image":48},{"duration":100,"image":49},{"duration":100,"image":50},{"duration":100,"image":51},{"duration":100,"image":52},{"duration":100,"image":53},{"duration":100,"image":54},{"duration":100,"image":55},{"duration":100,"image":56},{"duration":100,"image":57},{"duration":100,"image":58},{"duration":100,"image":59,"exitBranch":33,"branching":{"branches":[{"frameIndex":21,"weight":100}]}},{"duration":100,"image":60},{"duration":100,"image":61},{"duration":100,"image":62},{"duration":100,"image":35},{"duration":100,"image":34},{"duration":100,"image":33,"sound":"14"},{"duration":100,"image":32},{"duration":100,"image":31},{"duration":100,"image":30},{"duration":100,"image":29},{"duration":100,"image":28},{"duration":100,"image":0}],
    "Explain":[{"duration":100,"image":0},{"duration":100,"image":63},{"duration":100,"image":64},{"duration":900,"image":65},{"duration":100,"image":64},{"duration":100,"image":63},{"duration":100,"image":0}],
    "IdleRopePile":[{"duration":100,"image":0},{"duration":100,"image":66,"exitBranch":74},{"duration":100,"image":67},{"duration":100,"image":68,"exitBranch":74},{"duration":100,"image":69},{"duration":100,"image":70,"exitBranch":74},{"duration":100,"image":71},{"duration":100,"image":72,"exitBranch":74},{"duration":100,"image":73},{"duration":100,"image":74,"exitBranch":74},{"duration":100,"image":75},{"duration":100,"image":76,"exitBranch":74},{"duration":100,"image":77},{"duration":100,"image":78,"exitBranch":74},{"duration":100,"image":79},{"duration":100,"image":80,"exitBranch":74},{"duration":100,"image":81},{"duration":100,"image":82,"exitBranch":74},{"duration":100,"image":83},{"duration":100,"image":84,"exitBranch":74},{"duration":100,"image":85},{"duration":100,"image":86,"exitBranch":74},{"duration":100,"image":87},{"duration":100,"image":88,"exitBranch":74},{"duration":100,"image":89},{"duration":100,"image":90,"exitBranch":74},{"duration":100,"image":91},{"duration":100,"image":92,"exitBranch":74},{"duration":100,"image":93},{"duration":100,"image":94,"exitBranch":74},{"duration":100,"image":95},{"duration":100,"image":96,"exitBranch":74},{"duration":100,"image":97},{"duration":100,"image":98,"exitBranch":74},{"duration":100,"image":99},{"duration":100,"image":100},{"duration":100,"image":101,"exitBranch":74},{"duration":100,"image":102},{"duration":100,"image":103,"exitBranch":40},{"duration":100,"image":104},{"duration":100,"image":105,"exitBranch":42},{"duration":100,"image":106},{"duration":100,"image":107,"exitBranch":44},{"duration":100,"image":108},{"duration":100,"image":109,"exitBranch":46},{"duration":100,"image":110},{"duration":100,"image":111,"exitBranch":48},{"duration":100,"image":112},{"duration":100,"image":113,"exitBranch":50},{"duration":100,"image":114},{"duration":100,"image":115,"exitBranch":52},{"duration":100,"image":116},{"duration":100,"image":117,"exitBranch":54},{"duration":100,"image":118},{"duration":100,"image":119,"exitBranch":56},{"duration":100,"image":120},{"duration":100,"image":121,"exitBranch":58},{"duration":100,"image":122},{"duration":100,"image":123,"exitBranch":5},{"duration":100,"image":124},{"duration":100,"image":125,"exitBranch":70},{"duration":100,"image":126,"exitBranch":70,"branching":{"branches":[{"frameIndex":61,"weight":95}]}},{"duration":100,"image":127,"exitBranch":70,"branching":{"branches":[{"frameIndex":61,"weight":25},{"frameIndex":67,"weight":25},{"frameIndex":65,"weight":25}]}},{"duration":100,"image":128,"exitBranch":70,"branching":{"branches":[{"frameIndex":63,"weight":95}]}},{"duration":100,"image":129,"exitBranch":70,"branching":{"branches":[{"frameIndex":61,"weight":25},{"frameIndex":67,"weight":25},{"frameIndex":63,"weight":25}]}},{"duration":100,"image":130,"exitBranch":70,"branching":{"branches":[{"frameIndex":65,"weight":95}]}},{"duration":100,"image":129,"exitBranch":70,"branching":{"branches":[{"frameIndex":61,"weight":25},{"frameIndex":65,"weight":25},{"frameIndex":63,"weight":25}]}},{"duration":100,"image":131,"exitBranch":70,"branching":{"branches":[{"frameIndex":67,"weight":95}]}},{"duration":100,"image":129,"exitBranch":70,"branching":{"branches":[{"frameIndex":65,"weight":25},{"frameIndex":67,"weight":25},{"frameIndex":63,"weight":25}]}},{"duration":100,"image":132,"exitBranch":70,"branching":{"branches":[{"frameIndex":61,"weight":95}]}},{"duration":100,"image":133},{"duration":100,"image":134},{"duration":100,"image":135},{"duration":100,"image":136},{"duration":100,"image":0}],
    "IdleAtom":[{"duration":100,"image":0,"branching":{"branches":[{"frameIndex":44,"weight":97}]}},{"duration":100,"image":28},{"duration":100,"image":29},{"duration":100,"image":30},{"duration":100,"image":31},{"duration":100,"image":32},{"duration":100,"image":33},{"duration":100,"image":34},{"duration":100,"image":35},{"duration":100,"image":36},{"duration":100,"image":37},{"duration":100,"image":38},{"duration":100,"image":39},{"duration":100,"image":40},{"duration":100,"image":41},{"duration":100,"image":42},{"duration":100,"image":43},{"duration":100,"image":44},{"duration":100,"image":45},{"duration":100,"image":46},{"duration":100,"image":47},{"duration":100,"image":48},{"duration":100,"image":49},{"duration":100,"image":50},{"duration":100,"image":51},{"duration":100,"image":52},{"duration":100,"image":53},{"duration":100,"image":54},{"duration":100,"image":55},{"duration":100,"image":56},{"duration":100,"image":57},{"duration":100,"image":58},{"duration":100,"image":59,"exitBranch":33,"branching":{"branches":[{"frameIndex":21,"weight":95}]}},{"duration":100,"image":60},{"duration":100,"image":61},{"duration":100,"image":62},{"duration":100,"image":35},{"duration":100,"image":34},{"duration":100,"image":33},{"duration":100,"image":32},{"duration":100,"image":31},{"duration":100,"image":30},{"duration":100,"image":29},{"duration":100,"image":28},{"duration":100,"image":0}],
    "Print":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":137},{"duration":100,"image":138},{"duration":100,"image":139},{"duration":100,"image":140,"sound":"5"},{"duration":100,"image":141},{"duration":100,"image":142},{"duration":100,"image":143},{"duration":100,"image":144},{"duration":100,"image":145},{"duration":100,"image":146,"sound":"8"},{"duration":150,"image":147},{"duration":100,"image":148,"sound":"8"},{"duration":100,"image":149},{"duration":100,"image":150},{"duration":100,"image":151},{"duration":100,"image":152},{"duration":100,"image":153},{"duration":100,"image":154},{"duration":100,"image":155},{"duration":100,"image":156},{"duration":100,"image":157},{"duration":450,"image":158},{"duration":200,"image":159},{"duration":100,"image":160,"exitBranch":26},{"duration":100,"image":161,"sound":"7"},{"duration":100,"image":162,"exitBranch":28},{"duration":100,"image":163},{"duration":100,"image":164,"exitBranch":30},{"duration":100,"image":165},{"duration":600,"image":166,"exitBranch":32},{"duration":100,"image":167,"sound":"7"},{"duration":100,"image":168,"exitBranch":34},{"duration":100,"image":169},{"duration":100,"image":170,"exitBranch":36},{"duration":100,"image":171},{"duration":600,"image":172,"exitBranch":38},{"duration":100,"image":173,"sound":"7"},{"duration":100,"image":174,"exitBranch":40},{"duration":100,"image":175},{"duration":100,"image":176,"exitBranch":44},{"duration":600,"image":177},{"duration":100,"image":178,"exitBranch":44,"sound":"7"},{"duration":100,"image":179},{"duration":100,"image":180,"exitBranch":46},{"duration":100,"image":181},{"duration":100,"image":182,"exitBranch":48},{"duration":100,"image":183},{"duration":100,"image":184,"exitBranch":51},{"duration":600,"image":185},{"duration":100,"image":186},{"duration":100,"image":187,"exitBranch":53},{"duration":100,"image":188,"sound":"11"},{"duration":100,"image":189},{"duration":100,"image":190},{"duration":100,"image":191},{"duration":100,"image":192,"exitBranch":58},{"duration":100,"image":193},{"duration":100,"image":0}],
    "Hide":[{"duration":10,"image":0},{"duration":10,"image":20},{"duration":10,"image":21},{"duration":10,"image":22},{"duration":10}],
    "GetAttention":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":199},{"duration":100,"image":200},{"duration":100,"image":201},{"duration":100,"image":202},{"duration":100,"image":203},{"duration":100,"image":204},{"duration":100,"image":205},{"duration":100,"image":206},{"duration":100,"image":207,"sound":"10"},{"duration":150,"image":208},{"duration":150,"image":207,"sound":"10"},{"duration":150,"image":208},{"duration":150,"image":207,"sound":"10"},{"duration":150,"image":209},{"duration":100,"image":210},{"duration":100,"image":211},{"duration":100,"image":212},{"duration":100,"image":213},{"duration":100,"image":214},{"duration":100,"image":215},{"duration":100,"image":216},{"duration":100,"image":217,"exitBranch":23},{"duration":100,"image":0}],
    "Save":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":268},{"duration":130,"image":269,"sound":"13"},{"duration":130,"image":270},{"duration":100,"image":271},{"duration":100,"image":272},{"duration":100,"image":273},{"duration":100,"image":274,"exitBranch":10},{"duration":450,"image":275},{"duration":100,"image":274,"exitBranch":10},{"duration":100,"image":276},{"duration":100,"image":277},{"duration":100,"image":278},{"duration":130,"image":279,"sound":"8"},{"duration":130,"image":280},{"duration":130,"image":281},{"duration":130,"image":282,"sound":"8"},{"duration":130,"image":283,"sound":"8"},{"duration":130,"image":284},{"duration":130,"image":285,"sound":"8"},{"duration":100,"image":286},{"duration":100,"image":287,"sound":"9"},{"duration":160,"image":288},{"duration":100,"image":289,"sound":"2"},{"duration":100,"image":290},{"duration":100,"image":291},{"duration":100,"image":292,"exitBranch":34},{"duration":450,"image":293},{"duration":100,"image":294,"exitBranch":34,"sound":"10"},{"duration":400,"image":295},{"duration":100,"image":296,"exitBranch":34},{"duration":100,"image":297},{"duration":100,"image":298},{"duration":100,"image":299},{"duration":100,"image":300},{"duration":100,"image":301},{"duration":100,"image":302},{"duration":100,"image":303},{"duration":100,"image":304},{"duration":100,"image":305},{"duration":100,"image":306},{"duration":100,"image":0}],
    "GetTechy":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":28},{"duration":100,"image":29},{"duration":100,"image":30},{"duration":100,"image":31,"sound":"14"},{"duration":100,"image":32},{"duration":100,"image":33},{"duration":100,"image":34},{"duration":100,"image":35},{"duration":100,"image":36},{"duration":100,"image":37},{"duration":100,"image":38},{"duration":100,"image":39},{"duration":100,"image":40},{"duration":100,"image":41,"sound":"4"},{"duration":100,"image":42},{"duration":100,"image":43},{"duration":100,"image":44},{"duration":100,"image":45},{"duration":100,"image":46},{"duration":100,"image":47},{"duration":100,"image":48},{"duration":100,"image":49},{"duration":100,"image":50},{"duration":100,"image":51},{"duration":100,"image":52},{"duration":100,"image":53},{"duration":100,"image":54},{"duration":100,"image":55},{"duration":100,"image":56},{"duration":100,"image":57},{"duration":100,"image":58},{"duration":100,"image":59,"exitBranch":33,"branching":{"branches":[{"frameIndex":21,"weight":100}]}},{"duration":100,"image":60},{"duration":100,"image":61},{"duration":100,"image":62},{"duration":100,"image":35},{"duration":100,"image":34},{"duration":100,"image":33,"sound":"14"},{"duration":100,"image":32},{"duration":100,"image":31},{"duration":100,"image":30},{"duration":100,"image":29},{"duration":100,"image":28},{"duration":100,"image":0}],
    "GestureUp":[{"duration":100,"image":0},{"duration":100,"image":223},{"duration":100,"image":224},{"duration":100,"image":225},{"duration":100,"image":226},{"duration":100,"image":227,"exitBranch":11},{"duration":100,"image":228},{"duration":100,"image":229,"branching":{"branches":[{"frameIndex":5,"weight":50}]}},{"duration":100,"image":230},{"duration":1200,"image":231},{"duration":100,"image":232},{"duration":100,"image":227},{"duration":100,"image":226},{"duration":100,"image":225},{"duration":100,"image":224},{"duration":100,"image":223},{"duration":100,"image":0}],
    "Idle1_1":[{"duration":100,"image":0,"branching":{"branches":[{"frameIndex":37,"weight":20}]}},{"duration":100,"image":233,"exitBranch":2,"branching":{"branches":[{"frameIndex":1,"weight":95}]}},{"duration":100,"image":234,"exitBranch":16},{"duration":100,"image":235},{"duration":300,"image":236,"exitBranch":5,"branching":{"branches":[{"frameIndex":4,"weight":95}]}},{"duration":100,"image":237,"exitBranch":16,"branching":{"branches":[{"frameIndex":9,"weight":25},{"frameIndex":12,"weight":25},{"frameIndex":15,"weight":25}]}},{"duration":100,"image":238},{"duration":300,"image":239,"exitBranch":8,"branching":{"branches":[{"frameIndex":7,"weight":94},{"frameIndex":5,"weight":3}]}},{"duration":100,"image":240,"exitBranch":16},{"duration":100,"image":241},{"duration":300,"image":242,"exitBranch":11,"branching":{"branches":[{"frameIndex":10,"weight":94},{"frameIndex":8,"weight":2},{"frameIndex":5,"weight":2}]}},{"duration":100,"image":243,"exitBranch":16},{"duration":100,"image":244},{"duration":300,"image":245,"exitBranch":14,"branching":{"branches":[{"frameIndex":13,"weight":93},{"frameIndex":11,"weight":3},{"frameIndex":5,"weight":2}]}},{"duration":100,"image":246,"exitBranch":16},{"duration":100,"image":247},{"duration":300,"image":248,"exitBranch":17,"branching":{"branches":[{"frameIndex":16,"weight":95}]}},{"duration":100,"image":249,"exitBranch":36,"branching":{"branches":[{"frameIndex":36,"weight":90}]}},{"duration":100,"image":250},{"duration":300,"image":251,"exitBranch":35},{"duration":100,"image":252},{"duration":100,"image":253,"exitBranch":35},{"duration":300,"image":254,"exitBranch":23,"branching":{"branches":[{"frameIndex":22,"weight":94},{"frameIndex":23,"weight":3}]}},{"duration":100,"image":255,"exitBranch":35,"branching":{"branches":[{"frameIndex":24,"weight":25},{"frameIndex":27,"weight":25},{"frameIndex":30,"weight":25}]}},{"duration":100,"image":256},{"duration":300,"image":257,"exitBranch":26,"branching":{"branches":[{"frameIndex":25,"weight":94},{"frameIndex":23,"weight":3}]}},{"duration":100,"image":258,"exitBranch":35},{"duration":100,"image":259},{"duration":300,"image":260,"exitBranch":29,"branching":{"branches":[{"frameIndex":28,"weight":94},{"frameIndex":23,"weight":3}]}},{"duration":100,"image":261,"exitBranch":35},{"duration":100,"image":262},{"duration":300,"image":263,"exitBranch":32,"branching":{"branches":[{"frameIndex":31,"weight":94},{"frameIndex":23,"weight":3}]}},{"duration":100,"image":264,"exitBranch":35},{"duration":100,"image":265},{"duration":300,"image":266,"exitBranch":35,"branching":{"branches":[{"frameIndex":34,"weight":80}]}},{"duration":100,"image":267},{"duration":100,"image":0,"exitBranch":42},{"duration":100,"image":63},{"duration":100,"image":64},{"duration":900,"image":65},{"duration":100,"image":64},{"duration":100,"image":63},{"duration":100,"image":0}],
    "Processing":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":307,"sound":"14"},{"duration":100,"image":308},{"duration":100,"image":309},{"duration":100,"image":310,"exitBranch":33},{"duration":100,"image":311},{"duration":100,"image":312},{"duration":100,"image":313},{"duration":100,"image":314,"sound":"11"},{"duration":100,"image":315,"exitBranch":31},{"duration":100,"image":316},{"duration":100,"image":317},{"duration":100,"image":318},{"duration":100,"image":319,"exitBranch":31},{"duration":100,"image":320},{"duration":100,"image":321},{"duration":100,"image":322},{"duration":100,"image":323},{"duration":100,"image":324,"sound":"11"},{"duration":100,"image":325},{"duration":100,"image":326},{"duration":100,"image":327},{"duration":100,"image":328},{"duration":100,"image":329},{"duration":100,"image":330},{"duration":100,"image":331},{"duration":100,"image":332},{"duration":100,"image":333,"exitBranch":28,"branching":{"branches":[{"frameIndex":7,"weight":100}]}},{"duration":100,"image":334,"sound":"11"},{"duration":100,"image":335},{"duration":100,"image":336},{"duration":100,"image":337},{"duration":100,"image":338},{"duration":100,"image":339},{"duration":100,"image":340},{"duration":100,"image":341},{"duration":100,"image":342},{"duration":100,"image":0}],
    "Alert":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":343},{"duration":100,"image":344},{"duration":100,"image":345},{"duration":100,"image":346},{"duration":100,"image":347},{"duration":100,"image":348,"sound":"6"},{"duration":100,"image":349},{"duration":100,"image":350},{"duration":100,"image":351},{"duration":500,"image":352,"exitBranch":13},{"duration":100,"image":353,"exitBranch":13},{"duration":100,"image":354},{"duration":100,"image":355},{"duration":100,"image":356},{"duration":100,"image":357},{"duration":100,"image":358},{"duration":100,"image":359},{"duration":100,"image":360},{"duration":100,"image":0}],
    "LookUpRight":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":218,"exitBranch":5},{"duration":100,"image":219,"exitBranch":4},{"duration":1200,"image":220},{"duration":100,"image":221},{"duration":100,"image":222},{"duration":100,"image":0}],
    "IdleSideToSide":[{"duration":100,"image":0},{"duration":100,"image":233,"exitBranch":2,"branching":{"branches":[{"frameIndex":1,"weight":95}]}},{"duration":100,"image":234,"exitBranch":16},{"duration":100,"image":235},{"duration":300,"image":236,"exitBranch":5,"branching":{"branches":[{"frameIndex":4,"weight":95}]}},{"duration":100,"image":237,"exitBranch":16,"branching":{"branches":[{"frameIndex":9,"weight":25},{"frameIndex":12,"weight":25},{"frameIndex":15,"weight":25}]}},{"duration":100,"image":238},{"duration":300,"image":239,"exitBranch":8,"branching":{"branches":[{"frameIndex":7,"weight":92},{"frameIndex":5,"weight":5}]}},{"duration":100,"image":240,"exitBranch":16},{"duration":100,"image":241},{"duration":300,"image":242,"exitBranch":11,"branching":{"branches":[{"frameIndex":10,"weight":91},{"frameIndex":8,"weight":5},{"frameIndex":5,"weight":2}]}},{"duration":100,"image":243,"exitBranch":16},{"duration":100,"image":244},{"duration":300,"image":245,"exitBranch":14,"branching":{"branches":[{"frameIndex":13,"weight":91},{"frameIndex":11,"weight":3},{"frameIndex":5,"weight":2}]}},{"duration":100,"image":246,"exitBranch":16},{"duration":100,"image":247},{"duration":300,"image":248,"exitBranch":17,"branching":{"branches":[{"frameIndex":16,"weight":75}]}},{"duration":100,"image":249,"exitBranch":36,"branching":{"branches":[{"frameIndex":36,"weight":90}]}},{"duration":100,"image":250},{"duration":300,"image":251,"exitBranch":35},{"duration":100,"image":252},{"duration":100,"image":253,"exitBranch":35},{"duration":300,"image":254,"exitBranch":23,"branching":{"branches":[{"frameIndex":22,"weight":91},{"frameIndex":23,"weight":5}]}},{"duration":100,"image":255,"exitBranch":35,"branching":{"branches":[{"frameIndex":24,"weight":25},{"frameIndex":27,"weight":25},{"frameIndex":30,"weight":25}]}},{"duration":100,"image":256},{"duration":0,"image":257,"exitBranch":26,"branching":{"branches":[{"frameIndex":25,"weight":91},{"frameIndex":23,"weight":5}]}},{"duration":100,"image":258,"exitBranch":35},{"duration":100,"image":259},{"duration":300,"image":260,"exitBranch":29,"branching":{"branches":[{"frameIndex":28,"weight":91},{"frameIndex":23,"weight":5}]}},{"duration":100,"image":261,"exitBranch":35},{"duration":100,"image":262},{"duration":300,"image":263,"exitBranch":32,"branching":{"branches":[{"frameIndex":31,"weight":91},{"frameIndex":23,"weight":5}]}},{"duration":100,"image":264,"exitBranch":35},{"duration":100,"image":265},{"duration":300,"image":266,"exitBranch":35,"branching":{"branches":[{"frameIndex":34,"weight":80}]}},{"duration":100,"image":267},{"duration":100,"image":0}],
    "GoodBye":[{"duration":100,"image":0,"exitBranch":34,"sound":"15","branching":{"branches":[{"frameIndex":34,"weight":50}]}},{"duration":100,"image":856},{"duration":250,"image":857},{"duration":100,"image":858,"sound":"13"},{"duration":100,"image":859},{"duration":100,"image":860},{"duration":100,"image":861},{"duration":100,"image":862,"sound":"12"},{"duration":100,"image":863},{"duration":100,"image":864},{"duration":100,"image":865},{"duration":100,"image":866},{"duration":100,"image":867},{"duration":100,"image":868},{"duration":200,"image":869},{"duration":200,"image":870,"sound":"10"},{"duration":200,"image":869},{"duration":200,"image":871},{"duration":100,"image":872},{"duration":100,"image":873},{"duration":200,"image":874},{"duration":100,"image":875,"sound":"14"},{"duration":100,"image":876},{"duration":100,"image":877},{"duration":100,"image":878},{"duration":100,"image":879},{"duration":100,"image":880},{"duration":100,"image":881},{"duration":100,"image":882},{"duration":100,"image":883},{"duration":100,"image":884,"sound":"11"},{"duration":100,"image":885},{"duration":100,"image":886},{"duration":100,"image":887,"exitBranch":37,"branching":{"branches":[{"frameIndex":37,"weight":100}]}},{"duration":100,"image":415},{"duration":100,"image":414},{"duration":100,"image":413},{"duration":100}],
    "LookLeft":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":434,"exitBranch":5},{"duration":100,"image":435,"exitBranch":4},{"duration":1200,"image":436},{"duration":100,"image":437},{"duration":100,"image":438},{"duration":100,"image":0}],
    "IdleHeadScratch":[{"duration":100,"image":718,"branching":{"branches":[{"frameIndex":18,"weight":85}]}},{"duration":100,"image":719},{"duration":100,"image":720,"exitBranch":16},{"duration":100,"image":721},{"duration":100,"image":722},{"duration":100,"image":723},{"duration":100,"image":724,"exitBranch":16},{"duration":100,"image":725},{"duration":100,"image":726},{"duration":100,"image":727,"exitBranch":16,"branching":{"branches":[{"frameIndex":6,"weight":80}]}},{"duration":100,"image":728,"exitBranch":16},{"duration":100,"image":729},{"duration":100,"image":730,"exitBranch":16},{"duration":100,"image":731},{"duration":100,"image":732},{"duration":100,"image":733,"exitBranch":16,"branching":{"branches":[{"frameIndex":12,"weight":80}]}},{"duration":100,"image":734},{"duration":100,"image":735},{"duration":100,"image":736}],
    "LookUpLeft":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":439,"exitBranch":5},{"duration":100,"image":440,"exitBranch":4},{"duration":1200,"image":441},{"duration":100,"image":442},{"duration":100,"image":443},{"duration":100,"image":0}],
    "CheckingSomething":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":444,"sound":"13"},{"duration":100,"image":445},{"duration":100,"image":446},{"duration":100,"image":447},{"duration":100,"image":448},{"duration":100,"image":449},{"duration":100,"image":450},{"duration":200,"image":451},{"duration":200,"image":452},{"duration":200,"image":453},{"duration":100,"image":454,"sound":"10"},{"duration":100,"image":455,"exitBranch":52},{"duration":140,"image":456},{"duration":100,"image":457},{"duration":100,"image":458},{"duration":100,"image":459},{"duration":200,"image":460},{"duration":100,"image":461},{"duration":100,"image":462},{"duration":100,"image":463},{"duration":200,"image":464,"exitBranch":22,"branching":{"branches":[{"frameIndex":21,"weight":50}]}},{"duration":100,"image":465},{"duration":100,"image":466},{"duration":200,"image":467,"exitBranch":25,"branching":{"branches":[{"frameIndex":24,"weight":50}]}},{"duration":100,"image":468},{"duration":100,"image":469},{"duration":100,"image":470},{"duration":200,"image":471,"exitBranch":29,"branching":{"branches":[{"frameIndex":28,"weight":50}]}},{"duration":100,"image":472},{"duration":100,"image":473},{"duration":200,"image":474,"exitBranch":32,"branching":{"branches":[{"frameIndex":31,"weight":50}]}},{"duration":100,"image":475},{"duration":100,"image":476},{"duration":100,"image":477},{"duration":100,"image":478},{"duration":200,"image":479,"exitBranch":37,"branching":{"branches":[{"frameIndex":36,"weight":50}]}},{"duration":100,"image":480},{"duration":100,"image":481},{"duration":200,"image":482,"exitBranch":40,"branching":{"branches":[{"frameIndex":39,"weight":50}]}},{"duration":100,"image":483},{"duration":100,"image":484,"exitBranch":50},{"duration":100,"image":485,"branching":{"branches":[{"frameIndex":14,"weight":75}]}},{"duration":100,"image":486},{"duration":200,"image":487,"exitBranch":51,"branching":{"branches":[{"frameIndex":44,"weight":50}]}},{"duration":100,"image":488},{"duration":100,"image":489},{"duration":100,"image":490},{"duration":100,"image":491,"exitBranch":49,"branching":{"branches":[{"frameIndex":48,"weight":85}]}},{"duration":100,"image":492,"sound":"10"},{"duration":100,"image":493,"exitBranch":52,"branching":{"branches":[{"frameIndex":10,"weight":100}]}},{"duration":100,"image":494},{"duration":100,"image":495,"sound":"14"},{"duration":100,"image":496},{"duration":100,"image":0}],
    "Hearing_1":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":343},{"duration":100,"image":344},{"duration":100,"image":345},{"duration":100,"image":346},{"duration":100,"image":347},{"duration":100,"image":348,"sound":"6"},{"duration":100,"image":349},{"duration":100,"image":350},{"duration":100,"image":351},{"duration":500,"image":352,"exitBranch":32},{"duration":100,"image":497,"branching":{"branches":[{"frameIndex":6,"weight":60}]}},{"duration":100,"image":348},{"duration":100,"image":349,"exitBranch":32},{"duration":100,"image":350},{"duration":100,"image":351,"exitBranch":32},{"duration":500,"image":497,"branching":{"branches":[{"frameIndex":12,"weight":50}]}},{"duration":100,"image":498,"exitBranch":32},{"duration":100,"image":499},{"duration":100,"image":500,"exitBranch":32},{"duration":100,"image":501},{"duration":400,"image":502,"exitBranch":32},{"duration":100,"image":503,"branching":{"branches":[{"frameIndex":18,"weight":50}]}},{"duration":100,"image":504,"exitBranch":32},{"duration":100,"image":505},{"duration":100,"image":506,"exitBranch":32},{"duration":500,"image":507,"exitBranch":32},{"duration":100,"image":508,"branching":{"branches":[{"frameIndex":17,"weight":50}]}},{"duration":100,"image":509,"exitBranch":32},{"duration":100,"image":510},{"duration":100,"image":353,"exitBranch":32,"branching":{"branches":[{"frameIndex":12,"weight":100}]}},{"duration":100,"image":354},{"duration":100,"image":355},{"duration":100,"image":356},{"duration":100,"image":357},{"duration":100,"image":358},{"duration":100,"image":359},{"duration":100,"image":360},{"duration":100,"image":0}],
    "GetWizardy":[{"duration":100,"image":0,"sound":"15"},{"duration":10,"image":1},{"duration":10,"image":2},{"duration":10,"image":3,"sound":"14"},{"duration":10,"image":4},{"duration":10,"image":5},{"duration":10,"image":6},{"duration":10,"image":7},{"duration":10,"image":8,"sound":"1"},{"duration":100,"image":9},{"duration":100,"image":10},{"duration":100,"image":11},{"duration":1200,"image":12},{"duration":100,"image":13,"sound":"10"},{"duration":100,"image":14},{"duration":1200,"image":12},{"duration":100,"image":15},{"duration":100,"image":16},{"duration":100,"image":17},{"duration":100,"image":18},{"duration":100,"image":19,"exitBranch":21},{"duration":100,"image":0}],
    "IdleFingerTap":[{"duration":100,"image":0},{"duration":100,"image":888},{"duration":100,"image":889},{"duration":100,"image":890,"exitBranch":8},{"duration":100,"image":891,"exitBranch":8},{"duration":100,"image":892,"branching":{"branches":[{"frameIndex":7,"weight":3}]}},{"duration":150,"image":893,"exitBranch":7,"branching":{"branches":[{"frameIndex":6,"weight":98},{"frameIndex":5,"weight":2}]}},{"duration":100,"image":894,"exitBranch":8},{"duration":100,"image":895},{"duration":100,"image":896},{"duration":100,"image":0}],
    "GestureLeft":[{"duration":100,"image":0},{"duration":100,"image":511},{"duration":100,"image":512},{"duration":100,"image":513},{"duration":100,"image":514,"exitBranch":12},{"duration":100,"image":515},{"duration":100,"image":516,"branching":{"branches":[{"frameIndex":4,"weight":60}]}},{"duration":100,"image":517},{"duration":100,"image":518},{"duration":1200,"image":519},{"duration":100,"image":520},{"duration":450,"image":521},{"duration":100,"image":513},{"duration":100,"image":512},{"duration":100,"image":511},{"duration":100,"image":0}],
    "Wave":[{"duration":100,"image":0,"sound":"15","branching":{"branches":[{"frameIndex":15,"weight":33}]}},{"duration":100,"image":522},{"duration":100,"image":523},{"duration":100,"image":524,"exitBranch":13},{"duration":100,"image":525,"exitBranch":13},{"duration":100,"image":526,"exitBranch":13},{"duration":100,"image":527,"branching":{"branches":[{"frameIndex":9,"weight":100}]}},{"duration":100,"image":528,"exitBranch":11,"sound":"10"},{"duration":100,"image":529},{"duration":100,"image":530,"exitBranch":11,"sound":"10"},{"duration":100,"image":531},{"duration":100,"image":532,"sound":"10"},{"duration":100,"image":533},{"duration":100,"image":534},{"duration":100,"image":535,"exitBranch":26,"branching":{"branches":[{"frameIndex":26,"weight":100}]}},{"duration":100,"image":536},{"duration":100,"image":537},{"duration":100,"image":538,"sound":"12"},{"duration":100,"image":539},{"duration":100,"image":540},{"duration":100,"image":541,"exitBranch":24,"sound":"10"},{"duration":1200,"image":542},{"duration":100,"image":543,"exitBranch":24,"sound":"10"},{"duration":1300,"image":542},{"duration":50,"image":544},{"duration":50,"image":537},{"duration":100,"image":0}],
    "GestureRight":[{"duration":100,"image":0},{"duration":100,"image":545},{"duration":100,"image":546},{"duration":100,"image":547},{"duration":100,"image":548},{"duration":100,"image":549,"exitBranch":11},{"duration":100,"image":550},{"duration":100,"image":551,"branching":{"branches":[{"frameIndex":5,"weight":50}]}},{"duration":100,"image":552},{"duration":1200,"image":553},{"duration":100,"image":554},{"duration":550,"image":549},{"duration":100,"image":548},{"duration":100,"image":547},{"duration":100,"image":546},{"duration":100,"image":545},{"duration":100,"image":0}],
    "Writing":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":555},{"duration":100,"image":556},{"duration":100,"image":557},{"duration":100,"image":558},{"duration":100,"image":559},{"duration":100,"image":560},{"duration":100,"image":561},{"duration":100,"image":562,"sound":"11"},{"duration":100,"image":563},{"duration":100,"image":564},{"duration":100,"image":565},{"duration":100,"image":566,"branching":{"branches":[{"frameIndex":26,"weight":45},{"frameIndex":32,"weight":25},{"frameIndex":42,"weight":15}]}},{"duration":100,"image":567,"exitBranch":55},{"duration":100,"image":568,"exitBranch":55},{"duration":100,"image":569},{"duration":200,"image":570},{"duration":200,"image":571,"exitBranch":55},{"duration":200,"image":572},{"duration":200,"image":573},{"duration":200,"image":574,"exitBranch":55},{"duration":200,"image":575},{"duration":200,"image":576},{"duration":200,"image":577,"exitBranch":55},{"duration":200,"image":578},{"duration":200,"image":579,"branching":{"branches":[{"frameIndex":32,"weight":20},{"frameIndex":42,"weight":15}]}},{"duration":100,"image":580,"exitBranch":56},{"duration":100,"image":581},{"duration":400,"image":582,"branching":{"branches":[{"frameIndex":28,"weight":80}]}},{"duration":100,"image":583,"exitBranch":30},{"duration":400,"image":584,"exitBranch":55,"branching":{"branches":[{"frameIndex":30,"weight":75}]}},{"duration":100,"image":585,"exitBranch":55,"branching":{"branches":[{"frameIndex":13,"weight":25},{"frameIndex":42,"weight":20}]}},{"duration":100,"image":586},{"duration":100,"image":587},{"duration":200,"image":588},{"duration":200,"image":589,"exitBranch":54},{"duration":200,"image":590},{"duration":200,"image":591,"exitBranch":54},{"duration":100,"image":592},{"duration":200,"image":593},{"duration":200,"image":594,"exitBranch":55},{"duration":200,"image":595,"branching":{"branches":[{"frameIndex":13,"weight":25},{"frameIndex":26,"weight":25},{"frameIndex":32,"weight":25}]}},{"duration":100,"image":596},{"duration":100,"image":597,"exitBranch":55},{"duration":100,"image":598},{"duration":100,"image":599},{"duration":100,"image":600},{"duration":100,"image":601},{"duration":100,"image":602},{"duration":100,"image":603},{"duration":100,"image":604},{"duration":100,"image":605},{"duration":100,"image":606,"exitBranch":57},{"duration":100,"image":607,"branching":{"branches":[{"frameIndex":26,"weight":33},{"frameIndex":32,"weight":33},{"frameIndex":13,"weight":34}]}},{"duration":100,"image":608},{"duration":100,"image":609},{"duration":100,"image":610,"sound":"11"},{"duration":100,"image":611},{"duration":100,"image":612},{"duration":100,"image":613},{"duration":100,"image":0,"sound":"15"}],
    "IdleSnooze":[{"duration":100,"image":0},{"duration":100,"image":614},{"duration":100,"image":615},{"duration":100,"image":616},{"duration":100,"image":617},{"duration":100,"image":618},{"duration":100,"image":619},{"duration":100,"image":620},{"duration":400,"image":621},{"duration":100,"image":622},{"duration":100,"image":623},{"duration":100,"image":624},{"duration":100,"image":625},{"duration":100,"image":626},{"duration":100,"image":627},{"duration":100,"image":628},{"duration":100,"image":629},{"duration":100,"image":630,"exitBranch":20},{"duration":100,"image":631},{"duration":100,"image":632},{"duration":100,"image":633,"exitBranch":23},{"duration":100,"image":634},{"duration":100,"image":635},{"duration":100,"image":636,"exitBranch":26},{"duration":100,"image":637},{"duration":100,"image":638},{"duration":100,"image":639,"exitBranch":83},{"duration":200,"image":640},{"duration":200,"image":641,"exitBranch":83},{"duration":200,"image":642,"exitBranch":83},{"duration":200,"image":643,"exitBranch":83},{"duration":200,"image":644},{"duration":200,"image":645,"exitBranch":83},{"duration":200,"image":646},{"duration":200,"image":647,"exitBranch":83},{"duration":200,"image":648},{"duration":200,"image":649},{"duration":200,"image":650,"exitBranch":83,"branching":{"branches":[{"frameIndex":27,"weight":90},{"frameIndex":46,"weight":5},{"frameIndex":52,"weight":5}]}},{"duration":100,"image":651},{"duration":100,"image":652,"exitBranch":83},{"duration":100,"image":653},{"duration":1200,"image":654},{"duration":100,"image":655},{"duration":100,"image":656,"exitBranch":83},{"duration":100,"image":657},{"duration":100,"image":658,"exitBranch":83},{"duration":100,"image":659,"exitBranch":83},{"duration":100,"image":660,"exitBranch":83},{"duration":400,"image":661},{"duration":100,"image":662,"exitBranch":83},{"duration":100,"image":663},{"duration":100,"image":664,"exitBranch":83},{"duration":100,"image":665},{"duration":100,"image":666,"exitBranch":83},{"duration":100,"image":667,"exitBranch":83},{"duration":100,"image":668,"exitBranch":83},{"duration":600,"image":669},{"duration":300,"image":670,"exitBranch":83},{"duration":300,"image":671,"exitBranch":83},{"duration":300,"image":672,"exitBranch":60},{"duration":100,"image":673},{"duration":100,"image":674,"exitBranch":83},{"duration":100,"image":675},{"duration":100,"image":676,"exitBranch":83},{"duration":100,"image":677,"exitBranch":83},{"duration":100,"image":678,"exitBranch":83},{"duration":100,"image":679},{"duration":100,"image":680,"exitBranch":83},{"duration":200,"image":681},{"duration":200,"image":682,"exitBranch":83},{"duration":200,"image":683,"exitBranch":83},{"duration":200,"image":684,"exitBranch":83},{"duration":200,"image":685},{"duration":200,"image":686,"exitBranch":83},{"duration":200,"image":687,"exitBranch":75,"branching":{"branches":[{"frameIndex":69,"weight":20}]}},{"duration":100,"image":688,"exitBranch":83},{"duration":100,"image":689,"exitBranch":83},{"duration":100,"image":690,"exitBranch":83},{"duration":100,"image":691},{"duration":100,"image":692,"exitBranch":83},{"duration":100,"image":693},{"duration":100,"image":694},{"duration":300,"image":695},{"duration":100,"image":696},{"duration":100,"image":697},{"duration":100,"image":698},{"duration":100,"image":699},{"duration":100,"image":0}],
    "LookDownRight":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":700,"exitBranch":5},{"duration":100,"image":701,"exitBranch":4},{"duration":1200,"image":702},{"duration":100,"image":703},{"duration":100,"image":704},{"duration":100,"image":0}],
    "GetArtsy":[{"duration":100,"image":0},{"duration":100,"image":705},{"duration":100,"image":706},{"duration":100,"image":707},{"duration":100,"image":708},{"duration":100,"image":709},{"duration":100,"image":710},{"duration":100,"image":711},{"duration":100,"image":712},{"duration":100,"image":713},{"duration":100,"image":714},{"duration":400,"image":715},{"duration":100,"image":716},{"duration":100,"image":717,"sound":"10"},{"duration":100,"image":715},{"duration":100,"image":716},{"duration":100,"image":717,"sound":"10"},{"duration":2400,"image":715},{"duration":100,"image":708},{"duration":100,"image":707},{"duration":100,"image":706},{"duration":100,"image":705,"exitBranch":22},{"duration":100,"image":0}],
    "Show":[{"duration":10},{"duration":10,"image":22},{"duration":10,"image":21},{"duration":10,"image":20},{"duration":10,"image":0}],
    "LookDown":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":23,"exitBranch":5},{"duration":100,"image":24,"exitBranch":4},{"duration":1200,"image":25},{"duration":100,"image":26},{"duration":100,"image":27},{"duration":100,"image":0}],
    "Searching":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":737},{"duration":100,"image":738},{"duration":100,"image":739},{"duration":100,"image":740},{"duration":100,"image":741,"sound":"11"},{"duration":100,"image":742},{"duration":100,"image":743},{"duration":100,"image":744},{"duration":100,"image":745},{"duration":100,"image":746},{"duration":100,"image":747},{"duration":100,"image":748},{"duration":100,"image":749},{"duration":100,"image":750},{"duration":100,"image":751},{"duration":100,"image":752},{"duration":100,"image":753},{"duration":100,"image":754},{"duration":800,"image":755,"exitBranch":55,"branching":{"branches":[{"frameIndex":19,"weight":40}]}},{"duration":100,"image":756,"exitBranch":55},{"duration":100,"image":755},{"duration":100,"image":757},{"duration":100,"image":758},{"duration":100,"image":759},{"duration":100,"image":760},{"duration":100,"image":761},{"duration":1000,"image":762,"exitBranch":54,"branching":{"branches":[{"frameIndex":27,"weight":65}]}},{"duration":100,"image":763},{"duration":100,"image":764},{"duration":100,"image":765},{"duration":100,"image":766},{"duration":500,"image":767,"exitBranch":33,"branching":{"branches":[{"frameIndex":32,"weight":75}]}},{"duration":100,"image":768,"exitBranch":34,"branching":{"branches":[{"frameIndex":32,"weight":50}]}},{"duration":100,"image":767},{"duration":100,"image":769},{"duration":100,"image":770},{"duration":100,"image":771},{"duration":100,"image":772,"exitBranch":55},{"duration":100,"image":773},{"duration":100,"image":774,"exitBranch":55,"branching":{"branches":[{"frameIndex":19,"weight":20},{"frameIndex":40,"weight":80}]}},{"duration":100,"image":775},{"duration":100,"image":776},{"duration":100,"image":777},{"duration":100,"image":778},{"duration":100,"image":779},{"duration":100,"image":780},{"duration":100,"image":781},{"duration":100,"image":782,"exitBranch":55,"branching":{"branches":[{"frameIndex":48,"weight":75}]}},{"duration":100,"image":783},{"duration":100,"image":784},{"duration":100,"image":783},{"duration":100,"image":782},{"duration":100,"image":785,"exitBranch":55,"branching":{"branches":[{"frameIndex":49,"weight":50}]}},{"duration":100,"image":786,"branching":{"branches":[{"frameIndex":28,"weight":100}]}},{"duration":100,"image":787},{"duration":100,"image":788},{"duration":100,"image":789},{"duration":100,"image":790},{"duration":100,"image":791},{"duration":100,"image":0}],
    "EmptyTrash":[{"duration":100,"image":0,"sound":"15"},{"duration":100,"image":792},{"duration":100,"image":793,"sound":"14"},{"duration":100,"image":794},{"duration":100,"image":795},{"duration":100,"image":796},{"duration":100,"image":797,"exitBranch":16},{"duration":100,"image":798,"sound":"3"},{"duration":100,"image":799},{"duration":100,"image":800},{"duration":100,"image":801},{"duration":100,"image":802},{"duration":100,"image":803,"exitBranch":16},{"duration":100,"image":804,"sound":"3"},{"duration":100,"image":805},{"duration":100,"image":806},{"duration":100,"image":807,"exitBranch":23},{"duration":100,"image":808},{"duration":100,"image":809},{"duration":100,"image":810,"sound":"3"},{"duration":100,"image":811},{"duration":100,"image":812},{"duration":100,"image":813},{"duration":100,"image":814,"exitBranch":29},{"duration":100,"image":815,"sound":"3"},{"duration":100,"image":816},{"duration":100,"image":817},{"duration":100,"image":818},{"duration":100,"image":819},{"duration":100,"image":820,"exitBranch":31,"sound":"3"},{"duration":100,"image":821},{"duration":100,"image":822},{"duration":900},{"duration":100,"image":413},{"duration":100,"image":414},{"duration":100,"image":415},{"duration":100,"image":416},{"duration":100,"image":417},{"duration":100,"image":418},{"duration":100,"image":419},{"duration":100,"image":420},{"duration":100,"image":0}],
    "Greeting":[{"duration":100,"branching":{"branches":[{"frameIndex":30,"weight":40}]},"sound":"15"},{"duration":100,"image":823},{"duration":100,"image":824,"sound":"11"},{"duration":100,"image":825},{"duration":100,"image":826},{"duration":100,"image":827},{"duration":100,"image":828},{"duration":100,"image":829},{"duration":100,"image":830},{"duration":100,"image":831},{"duration":100,"image":832},{"duration":100,"image":833},{"duration":100,"image":834},{"duration":100,"image":835,"sound":"14"},{"duration":100,"image":836},{"duration":100,"image":837},{"duration":100,"image":838},{"duration":100,"image":839},{"duration":300,"image":840},{"duration":100,"image":841,"sound":"10"},{"duration":450,"image":840},{"duration":100,"image":842},{"duration":100,"image":843},{"duration":100,"image":844,"sound":"12"},{"duration":100,"image":845},{"duration":100,"image":846},{"duration":100,"image":847,"sound":"4"},{"duration":100,"image":848},{"duration":100,"image":849},{"duration":100,"image":850,"branching":{"branches":[{"frameIndex":38,"weight":100}]}},{"duration":100,"image":413,"sound":"11"},{"duration":100,"image":414},{"duration":100,"image":415},{"duration":100,"image":416},{"duration":100,"image":417},{"duration":100,"image":418},{"duration":100,"image":419},{"duration":100,"image":420,"exitBranch":38},{"duration":100,"image":0}],
    "LookUp":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":851,"exitBranch":5},{"duration":100,"image":852,"exitBranch":4},{"duration":1200,"image":853},{"duration":100,"image":854},{"duration":100,"image":855},{"duration":100,"image":0}],
    "GestureDown":[{"duration":100,"image":0},{"duration":100,"image":421},{"duration":100,"image":422},{"duration":100,"image":423},{"duration":100,"image":424},{"duration":100,"image":425,"exitBranch":14},{"duration":100,"image":426},{"duration":100,"image":427,"branching":{"branches":[{"frameIndex":5,"weight":50}]}},{"duration":100,"image":428},{"duration":100,"image":429},{"duration":100,"image":430,"exitBranch":14},{"duration":100,"image":431},{"duration":100,"image":432},{"duration":450,"image":433},{"duration":100,"image":424},{"duration":100,"image":423},{"duration":100,"image":422},{"duration":100,"image":421},{"duration":100,"image":0}],
    "RestPose":[{"duration":100,"image":0}],
    "IdleEyeBrowRaise":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":63},{"duration":100,"image":64},{"duration":900,"image":65},{"duration":100,"image":64},{"duration":100,"image":63},{"duration":100,"image":0}],
    "LookDownLeft":[{"duration":100,"image":0,"exitBranch":6},{"duration":100,"image":897,"exitBranch":5},{"duration":100,"image":898,"exitBranch":4},{"duration":1200,"image":899},{"duration":100,"image":900},{"duration":100,"image":901},{"duration":100,"image":0}]
};

const idleAnimations = [
    AnimationKeys.Idle1_1,
    AnimationKeys.IdleAtom,
    AnimationKeys.IdleEyeBrowRaise,
    AnimationKeys.IdleFingerTap,
    AnimationKeys.IdleHeadScratch,
    AnimationKeys.IdleRopePile,
    AnimationKeys.IdleSideToSide,
    AnimationKeys.IdleSnooze,
];

class Clippy
{
    private context: CanvasRenderingContext2D;
    private clippyWidth = 124;
    private clippyHeight = 93;
    private clippyImage: HTMLImageElement;

    constructor(canvas: HTMLCanvasElement)
    {
        this.context = canvas.getContext("2d");
        canvas.width = this.clippyWidth;
        canvas.height = this.clippyHeight;
    }

    private async init()
    {
        this.clippyImage = await loadImage("/img/clippy.png");
    }

    private async playAnimation(animationName: AnimationKeys)
    {
        const animation = animations[animationName];
        for(var f of animation)
        {
            this.context.clearRect(0, 0, this.clippyWidth, this.clippyHeight);
            if(f.image !== undefined)
            {
                this.context.drawImage(this.clippyImage, (f.image % 27) * this.clippyWidth, Math.floor(f.image / 27) * this.clippyHeight, this.clippyWidth, this.clippyHeight, 0, 0, this.clippyWidth, this.clippyHeight);
            }

            await wait(f.duration);
        }
    }

    public async run()
    {
        await this.init();

        await this.playAnimation(AnimationKeys.Show);

        if(validateReply)
        {
            await this.playAnimation(AnimationKeys.Congratulate);
        }

        while(true)
        {
            await wait(5000);
            await this.playAnimation(idleAnimations[Math.floor(Math.random() * idleAnimations.length)]);
        }
    }
}

var clippy = new Clippy(document.getElementById('clippy') as HTMLCanvasElement);
clippy.run();